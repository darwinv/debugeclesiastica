<div id="mapas" data-role="page" data-theme='b'>
<div data-role="header" data-theme='b'  data-add-back-btn="true">
<h1>Mapa</h1>
</div>
<script type="text/javascript">
function getUrlVars()
{
    var vars = [], hash;
    var hashes = window.location.href.slice(window.location.href.indexOf('?') + 1).split('&');
    for(var i = 0; i < hashes.length; i++)
    {
        hash = hashes[i].split('=');
        vars.push(hash[0]);
        vars[hash[0]] = hash[1];
    }
    return vars;
}


$(document).on('pageshow', '#mapas', function (e, data) {
  var latitud = parseFloat(getUrlVars()["latitud"]);
  var longitud=parseFloat(getUrlVars()["longitud"]);
  //console.log(latitud);
  //console.log(longitud);

    setTimeout(function () {
        // This is the minimum zoom level that we'll allow
        var minZoomLevel = 18;
 var myLatLng = {lat: latitud, lng: longitud};
        var map = new google.maps.Map(document.getElementById('map'), {
            zoom: minZoomLevel,
            center: new google.maps.LatLng(latitud, longitud),
            mapTypeId: google.maps.MapTypeId.ROADMAP
        });

  var marker = new google.maps.Marker({
  position: myLatLng,
  map: map,
  title: 'Hello World!'
  });

marker.setMap(map);

    }, 1);



});

</script>
<div data-role="content" id="contenido">
   <div id="map" style="height: 100%;"></div>
</div>
<div data-theme="b" data-role="footer" data-position="fixed">
            <h3>
                Mapa
            </h3>
        </div>

</div>
